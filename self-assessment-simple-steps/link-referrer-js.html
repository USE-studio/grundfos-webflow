<!-- link-referrer-js -->
<!--
  Description:
  This script makes sure that if we are on the landingpage 2 
  experience that the home link in the HeaderStd bar leads back to the right origin
-->
<script>
  // For links that need to point to a different location
  // The URL changed...
  window.addEventListener('popstate', function (event) {
    console.log('route change: ', event.state)
    let landingpageOrigin = ''
    // Get the home link in the HeaderStd
    let homeLinks = document.getElementsByClassName('i-am-faithful-home-link')
    // Get document referrer
    let thePlaceFromWhenceYouCame = document.referrer
    if (sessionStorage.getItem('landingpageOrigin')) {
      landingpageOrigin = sessionStorage.getItem('landingpageOrigin')
    }
    else {
      landingpageOrigin = thePlaceFromWhenceYouCame
      // Set the sessionStorage item landingpageOrigin
      sessionStorage.setItem('landingpageOrigin', landingpageOrigin)
    }
    console.log('The place from whence you came')
    console.log(thePlaceFromWhenceYouCame)
    // Check if we came from /start and therefore need to change home link to this
    for (let h = 0; h < homeLinks.length; h++) {
      if (landingpageOrigin.includes('start')) {
        console.log('it is coming from start')
        homeLinks[h].href = '/start'
      }
    }
  });
</script>